<project name="pacs-generator" default="main">
	<property name="model" value="" description="The input EMF model"/>
	
	<target name="manifest">
		<requiredFiles>
			<file path="test.ecore"/>
			<file path="test.egx"/>
			<file path="libraries.egl"/>
			<file path="media.egl"/>
		</requiredFiles>
	</target>
	
	<target name="loadModels" depends="manifest">
	    <epsilon.emf.register file="test.ecore"/>
	    <epsilon.emf.loadModel name="M" modelfile="${model}" metamodeluri="http://cs.york.ac.uk/" read="true" store="true"/>
	</target>
	
	<target name="main" depends="loadModels">
		<epsilon.egl src="test.egx">
			<model ref="M"/>
		</epsilon.egl>
	</target>
</project>